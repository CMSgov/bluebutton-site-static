---
import { getEntry, render } from 'astro:content'
import Link from '#components/link.astro'
import ProcessListItem from '#components/process-list/process-list-item.astro'
import ProcessList from '#components/process-list/process-list.astro'
import AccordionList from '#components/accordion/accordion-list.astro'
import AccordionItem from '#components/accordion/accordion-item.astro'

import BaseLayout from '#layouts/base-layout.astro'
import DocsLayout from '#layouts/docs-layout.astro'

const entry = await getEntry('pages', 'production-access')
if (!entry) {
  throw new Error('Page not found')
}

const { Content, headings } = await render(entry)
---

<BaseLayout title={entry.data.seo.title || entry.data.title} description={entry.data.seo.description || ''}>
  <DocsLayout headings={headings} showSideNav={false} showToc={true}>
    <div class="margin-bottom-4">
      <h1>{entry.data.title}</h1>
    </div>
    <div class="usa-prose measure-5">
      <Content
        components={{
          a: Link,
          Link,
          ProcessList,
          ProcessListItem,
          AccordionList,
          AccordionItem,
        }}
      />
    </div>
  </DocsLayout>
</BaseLayout>
